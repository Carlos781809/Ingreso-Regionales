(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[5],{607:function(e,t,r){r.r(t);var n=r(0);e=r(52);var i=r(231),s=r(523),a=r(290),o=window;r=function(){function e(e,t){this.Y$=function(e){return(e=e.split("."))[e.length-1].match(/(jpg|jpeg|png|gif)$/i)},t=t||{},this.url=e,this.filename=t.filename||e,this.Tf=t.customHeaders,this.kQa=!!t.useDownloader,this.withCredentials=!!t.withCredentials}return e.prototype.iO=function(e){this.Tf=e},e.prototype.getCustomHeaders=function(){return this.Tf},e.prototype.getFileData=function(t){var r=this,s=this,o=new XMLHttpRequest,u=0===this.url.indexOf("blob:")?"blob":"arraybuffer";o.open("GET",this.url,!0),o.withCredentials=this.withCredentials,o.responseType=u,this.Tf&&Object.keys(this.Tf).forEach(function(e){o.setRequestHeader(e,r.Tf[e])});var l=/^https?:/i.test(this.url);o.addEventListener("load",function(r){return Object(n.b)(this,void 0,void 0,function(){var o,u,c,f,d,h;return Object(n.d)(this,function(n){switch(n.label){case 0:if(200!==this.status&&(l||0!==this.status))return[3,10];if(s.trigger(e.Events.DOCUMENT_LOADING_PROGRESS,[r.loaded,r.loaded]),"blob"!==this.responseType)return[3,4];return o=this.response,s.Y$(s.filename)?[4,Object(a.b)(o)]:[3,2];case 1:return u=n.aa(),s.fileSize=u.byteLength,t(new Uint8Array(u)),[3,3];case 2:(c=new FileReader).onload=function(e){e=new Uint8Array(e.target.result),s.fileSize=e.length,t(e)},c.readAsArrayBuffer(o),n.label=3;case 3:return[3,9];case 4:if(n.wd.push([4,8,,9]),f=new Uint8Array(this.response),!s.Y$(s.filename))return[3,6];return o=new Blob([f.buffer]),[4,Object(a.b)(o)];case 5:return u=n.aa(),s.fileSize=u.byteLength,t(new Uint8Array(u)),[3,7];case 6:s.fileSize=f.length,t(f),n.label=7;case 7:return[3,9];case 8:return n.aa(),s.trigger(e.Events.ERROR,["pdfLoad","Out of memory"]),[3,9];case 9:return[3,11];case 10:d=r.currentTarget,h=Object(i.b)(d),s.trigger(e.Events.ERROR,["pdfLoad","".concat(this.status," ").concat(d.statusText),h]),n.label=11;case 11:return s.eH=null,[2]}})})},!1),o.onprogress=function(t){s.trigger(e.Events.DOCUMENT_LOADING_PROGRESS,[t.loaded,0<t.total?t.total:0])},o.addEventListener("error",function(){s.trigger(e.Events.ERROR,["pdfLoad","Network failure"]),s.eH=null},!1),o.send(),this.eH=o},e.prototype.getFile=function(){var e=this;return new Promise(function(t){o.da.isJSWorker&&t(e.url),e.kQa&&t(Object(n.a)({url:e.url},e.Tf?{customHeaders:e.Tf}:{})),t(null)})},e.prototype.abort=function(){this.eH&&(this.eH.abort(),this.eH=null)},e.Events={DOCUMENT_LOADING_PROGRESS:"documentLoadingProgress",ERROR:"error"},e}(),Object(e.a)(r),Object(s.a)(r),Object(s.b)(r),t.default=r}}])}).call(this||window);